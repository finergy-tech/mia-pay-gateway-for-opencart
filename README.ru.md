# MIA POS Payment Gateway для OpenCart

Принимайте платежи в вашем магазине OpenCart через платежную систему MIA POS.

## Описание

Этот плагин добавляет MIA POS как способ оплаты в ваш магазин OpenCart. MIA POS - это платежная система от Finergy Tech, которая позволяет принимать платежи через QR-коды и прямые платежные запросы.

### Возможности

- Прием платежей через QR-коды
- Поддержка Request to Pay (RTP) платежей
- Автоматическое обновление статусов заказов
- Безопасная обработка платежей с использованием подписи и проверки ключей
- Поддержка нескольких языков (RO, RU, EN)
- Легкая интеграция с OpenCart

## Требования

- Регистрация на платформе MIA POS
- OpenCart версии 3.x
- PHP 7.2 или выше
- Установленный SSL-сертификат
- Включённые PHP-расширения: _curl_ и _json_

## Установка

1. Загрузите файл расширения: **mia-pay-gateway.ocmod.zip**.
2. В админ панели OpenCart перейдите в раздел **Расширения > Установщик**.
3. Нажмите кнопку **Загрузить** и выберите файл расширения. После завершения загрузки OpenCart начнет процесс установки.
4. Перейдите в **Расширения > Модификации** и нажмите кнопку **Обновить**.
5. Перейдите в **Расширения > Расширения** и выберите тип расширения **Оплата**. Вы должны увидеть расширение **MIA POS Payment Gateway** в списке.
6. Нажмите кнопку **Установить**.
7. Нажмите кнопку **Изменить**, чтобы выполнить необходимые настройки.

## Настройка

### Обязательные параметры

- **Merchant ID**: Ваш уникальный идентификатор мерчанта (предоставляется MIA POS).
- **Secret Key**: Секретный ключ для аутентификации в API (предоставляется MIA POS).
- **Terminal ID**: Идентификатор вашего терминала (предоставляется MIA POS).
- **API Base URL**: URL эндпоинта API MIA POS. Данный URL необходимо получить у банка, в котором вы обслуживаетесь. Сначала необходимо проверить работу плагина на тестовой среде банка.

### Опциональные параметры

- **Настройки статуса заказа: Платеж в ожидании** - Статус заказа, когда платеж находится в ожидании.
- **Настройки статуса заказа: Успешная оплата** - Статус заказа после успешного завершения платежа.
- **Настройки статуса заказа: Неуспешная оплата** - Статус заказа при неуспешной оплате.

## Тестирование

Для тестирования работы плагина необходимо использовать тестовую среду банка и тестовую учетную запись MIA POS. Свяжитесь с вашим банком для получения тестовых данных.

1. Настройте плагин, используя тестовые учетные данные.
2. Сделайте тестовые покупки для проверки процесса оплаты.
3. Проверьте обновление статусов заказов.
4. Проверьте обработку callback-уведомлений.

## Поддержка

Для поддержки и вопросов обращайтесь:
- Веб-сайт: [https://finergy.md/](https://finergy.md/)
- Email: [info@finergy.md](mailto:info@finergy.md)
